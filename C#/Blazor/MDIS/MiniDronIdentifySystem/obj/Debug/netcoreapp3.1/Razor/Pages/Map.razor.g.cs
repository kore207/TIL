#pragma checksum "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\Pages\Map.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "255bebc3b245e923c57f62f8fc3a5a15e0a27dc8"
// <auto-generated/>
#pragma warning disable 1591
namespace MiniDronIdentifySystem.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using MiniDronIdentifySystem;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\_Imports.razor"
using MiniDronIdentifySystem.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\Pages\Map.razor"
using MiniDronIdentifySystem.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\Pages\Map.razor"
using MDIS.api.Model;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\Pages\Map.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Map")]
    public partial class Map : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "html");
            __builder.AddAttribute(1, "xmlns", "http://www.w3.org/1999/xhtml");
            __builder.AddMarkupContent(2, "\r\n");
            __builder.AddMarkupContent(3, "<head>\r\n    <title></title>\r\n</head>\r\n");
            __builder.OpenElement(4, "body");
            __builder.AddMarkupContent(5, "\r\n    ");
            __builder.AddMarkupContent(6, "<div id=\"mySidebar\" class=\"sidebar\" style=\"height:880px; float:right; width:13%; overflow:hidden; overflow-y: scroll; \">\r\n        <div class=\"accordion\" id=\"SidebarMap\">\r\n            <div class=\"card\">\r\n                <div class=\"card-header\" id=\"headingOne\">\r\n                    <h2 class=\"mb-0\">\r\n                        <button class=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\r\n                            드론 보기 설정\r\n                        </button>\r\n                    </h2>\r\n                </div>\r\n\r\n                <div id=\"collapseOne\" class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#Sidebar\">\r\n                    <div class=\"card-body\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"hide-all-dron\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">드론 전체 감추기</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">미허가</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">미식별</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">식별ID유효성 이상</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"showFlyViolation\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"showFlyViolation\" style=\"color:black; margin-left:30px; \">비행금지 위반 드론만 보기</label><br>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card\">\r\n                <div class=\"card-header\" id=\"headingTwo\">\r\n                    <h2 class=\"mb-0\">\r\n                        <button class=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\r\n                            식별기 보기 설정\r\n                        </button>\r\n                    </h2>\r\n                </div>\r\n                <div id=\"collapseTwo\" class=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#Sidebar\">\r\n                    <div class=\"card-body\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"hide-all-antenna\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">식별기 전체 감추기</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">상태 이상</label><br>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card\">\r\n                <div class=\"card-header\" id=\"headingThree\">\r\n                    <h2 class=\"mb-0\">\r\n                        <button class=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\r\n                            비행금지구역 보기 설정\r\n                        </button>\r\n                    </h2>\r\n                </div>\r\n                <div id=\"collapseThree\" class=\"collapse\" aria-labelledby=\"headingThree\" data-parent=\"#Sidebar\">\r\n                    <div class=\"card-body\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisctrc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisctrc\" style=\"color:forestgreen; margin-left:30px;\"> 관제권</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisatzc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisatzc\" style=\"color:forestgreen; margin-left:30px;\"> 비행장 교통구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisfirc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisfirc\" style=\"color:orange; margin-left:30px;\">정보 구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisprhc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:red; margin-left:30px;\">비행금지구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisresc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisresc\" style=\"color:red; margin-left:30px;\"> 비행제한구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisuac\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisuac\" style=\"color:red; margin-left:30px;\"> 초경량 비행장치 비행제한 구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aiscatc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aiscatc\" style=\"color:purple; margin-left:30px;\"> 훈련구역    25kg↑</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aismoac\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aismoac\" style=\"color:purple; margin-left:30px;\"> 군작전구역    25kg↑</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisdngc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisdngc\" style=\"color:purple; margin-left:30px;\"> 위험구역    25kg↑</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" id=\"lt_c_aisaltc\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"lt_c_aisaltc\" style=\"color:purple; margin-left:30px;\"> 경계구역</label><br>\r\n                        <input type=\"checkbox\" class=\"form-check-input\" checked id=\"customLayerCheck\" style=\"margin-left:10px;\">\r\n                        <label class=\"form-check-label\" for=\"customLayerCheck\" style=\"color:blueviolet; margin-left:30px;\"> 사용자 설정 구역</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\" id=\"headingFour\">\r\n                        <h2 class=\"mb-0\">\r\n                            <button class=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseFour\" aria-expanded=\"false\" aria-controls=\"collapseFour\">\r\n                                보기 설정\r\n                            </button>\r\n                        </h2>\r\n                    </div>\r\n                    <div id=\"collapseFour\" class=\"collapse\" aria-labelledby=\"headingFour\" data-parent=\"#Sidebar\">\r\n                        <div class=\"card-body\">\r\n                            <input type=\"checkbox\" class=\"form-check-input\" id=\"adsigg\" style=\"margin-left:10px;\">\r\n                            <label class=\"form-check-label\" for=\"adsigg\" style=\"color:black; margin-left:30px;\">시군구 경계</label><br>\r\n                            <input type=\"checkbox\" class=\"form-check-input\" id=\"ademd\" style=\"margin-left:10px;\">\r\n                            <label class=\"form-check-label\" for=\"ademd\" style=\"color:black; margin-left:30px;\">읍면동 경계</label><br>\r\n                            <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                            <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px;\">드론 방향</label><br>\r\n                            <input type=\"checkbox\" class=\"form-check-input\" id=\"temp\" style=\"margin-left:10px;\">\r\n                            <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">드론 경로</label><br>\r\n                            <input type=\"checkbox\" class=\"form-check-input\" checked id=\"show-selected-dronController\" style=\"margin-left:10px;\">\r\n                            <label class=\"form-check-label\" for=\"lt_c_aisprhc\" style=\"color:black; margin-left:30px; \">선택드론 조종기 보기</label><br>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n            <button id=\"position\" type=\"button\" class=\"btn btn-light btn-lg btn-block\">  내 위치 </button>\r\n            <button id=\"addAntenna\" type=\"button\" class=\"btn btn-light btn-lg btn-block\"> 식별기 추가</button>\r\n            <button id=\"addDron\" type=\"button\" class=\"btn btn-light btn-lg btn-block\"> 드론 추가 </button>\r\n            <button id=\"delDron\" type=\"button\" class=\"btn btn-light btn-lg btn-block\"> 드론 제거 </button>\r\n            <button id=\"createPolygon\" type=\"button\" class=\"btn btn-light btn-block btn-lg\">제한구역 설정</button>\r\n            <button id=\"tempbtn\" type=\"button\" class=\"btn btn-light btn-lg btn-block\"> 임시 버튼 </button>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    ");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "id", "vmap");
            __builder.AddAttribute(9, "style", "position:relative; height:881px; float:left; width:87%; transition: 0.5s; ");
            __builder.AddMarkupContent(10, "\r\n        ");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "style", "height:38px;");
            __builder.AddMarkupContent(13, "\r\n            ");
            __builder.OpenElement(14, "form");
            __builder.AddAttribute(15, "id", "searchForm");
            __builder.AddAttribute(16, "action", "#");
            __builder.AddAttribute(17, "class", "form_data");
            __builder.AddAttribute(18, "onsubmit", "return false;search();");
            __builder.AddMarkupContent(19, @"

                <input type=""hidden"" id=""sido_key"" value=""0fabd7c63b9f0bb661cae2"">
                <input type=""hidden"" id=""sigoon_key"" value=""46d9fe0c389605a3a36db6""> 
                <input type=""hidden"" id=""dong_key"" value=""a866ed9828882807bc7e9b"">
                <input type=""hidden"" name=""apiKey"" value=""D36C2F4C-D5D4-3214-8304-E094FCA2F56D"">
                ");
            __builder.AddMarkupContent(20, "<span style=\"padding-left:20px; padding-right:10px;\">지역</span>\r\n                ");
            __builder.OpenElement(21, "select");
            __builder.AddAttribute(22, "id", "sido_code");
            __builder.AddAttribute(23, "style", "height:37px;");
            __builder.AddMarkupContent(24, "\r\n                    ");
            __builder.OpenElement(25, "option");
            __builder.AddMarkupContent(26, "광역시도");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n                ");
            __builder.OpenElement(29, "select");
            __builder.AddAttribute(30, "id", "sigoon_code");
            __builder.AddAttribute(31, "style", "height:37px;");
            __builder.AddMarkupContent(32, "\r\n                    ");
            __builder.OpenElement(33, "option");
            __builder.AddMarkupContent(34, "시군구");
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(36, "\r\n                ");
            __builder.OpenElement(37, "select");
            __builder.AddAttribute(38, "id", "dong_code");
            __builder.AddAttribute(39, "style", "height:37px;");
            __builder.AddMarkupContent(40, "\r\n                    ");
            __builder.OpenElement(41, "option");
            __builder.AddMarkupContent(42, "읍면동");
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\r\n                ");
            __builder.AddMarkupContent(45, "<button class=\"btn-primary\" onclick=\"toggleNav()\" style=\"float:right; width:37px; height:39px;\">☰</button>\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n\r\n");
            __builder.AddMarkupContent(49, @"<div id=""popup"" class=""ol-popup"">
    <a href=""javascript:void(0)"" id=""popup-positionChange"" class=""ol-popup-positionChange""></a> 
    <a href=""#"" id=""popup-closer"" class=""ol-popup-closer""></a>
    <div id=""popup-content""></div>    
</div>
    

    ");
            __builder.AddMarkupContent(50, @"<form id=""dataForm"">
        <input type=""hidden"" name=""key"" value=""D36C2F4C-D5D4-3214-8304-E094FCA2F56D"">
        <input type=""hidden"" name=""domain"" value=""http://localhost:8080"">
        <input type=""hidden"" name=""service"" value=""data"">
        <input type=""hidden"" name=""version"" value=""2.0"">
        <input type=""hidden"" name=""request"" value=""getfeature"">
        <input type=""hidden"" name=""format"" value=""json"">
        <input type=""hidden"" name=""size"" value=""10"">
        <input type=""hidden"" name=""page"" value=""1"">
        
        <input type=""hidden"" name=""data"" value=""LT_C_ADEMD_INFO"">
        <input type=""hidden"" name=""geometry"" value=""true"">
        <input type=""hidden"" name=""attribute"" value=""true"">
        <input type=""hidden"" name=""crs"" value=""EPSG:900913"">
    </form>

    ");
            __builder.AddMarkupContent(51, @"<form id=""aisDataForm"">
        <input type=""hidden"" name=""domain"" value=""https://127.0.0.1"">
        <input type=""hidden"" name=""service"" value=""WFS"">
        <input type=""hidden"" name=""version"" value=""1.1.0"">
        <input type=""hidden"" name=""request"" value=""GetFeature"">
        <input type=""hidden"" name=""key"" value=""D36C2F4C-D5D4-3214-8304-E094FCA2F56D"">
        <input type=""hidden"" name=""output"" value=""text/javascript"">
        <input type=""hidden"" name=""typename"" value> 
        <input type=""hidden"" name=""bbox"" value>
        <input type=""hidden"" name=""srsname"" value=""EPSG:900913""> 
    </form>
");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 194 "C:\Users\CEO\Desktop\MDIS\MiniDronIdentifySystem\Pages\Map.razor"
       
    [Inject]
    public IDronService DronService { get; set; }

    public IEnumerable<TbDrone> Drones { get; set; }

    //protected override async Task OnInitializedAsync()
    //{
    //    Drones = (await DronService.GetTbDrones()).ToList();
    //    await StartTimer();
    //}

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeAsync<object>("createVworldMap");
        }

        await StartTimer();

    }

    private async Task StartTimer()
    {
        Timer.SetTimer(1000);
        Timer.OnElapsed +=
            async delegate
            {
                await TimerElapsedHandler();
            };
    }

    //List<TbFlying> flyingInfo;
    //List<FlyingInfoJoinDronInfo> flyingDronInfo;

    private async Task TimerElapsedHandler()
    {
        //DB 조회 할 곳      
        //var dronID = "TestDron_MID";
        //flyingInfo = await Service.GetTbFlyings(dronID);

        //flyingInfo = await Service.GetAll();
        //if (flyingInfo != null)
        //{
        //    await JSRuntime.InvokeAsync<object>("IImportantSource", flyingInfo);
        //}
        //flyingDronInfo = await Service.GetJoinDronTB();
        //if (flyingDronInfo != null)
        //{
        //    await JSRuntime.InvokeAsync<object>("showDronInfo", flyingDronInfo);
        //}

        Drones = (await DronService.GetTbDrones()).ToList();

        await JSRuntime.InvokeAsync<object>("showDronInfo", Drones);

    }

    //로드될떄 같이 시작 
    //protected override async Task OnInitializedAsync()
    //{
    //    var dronID = "TestDron_MID";
    //    flyingInfo = await Service.GetTbFlyings(dronID);
    //}
    public void temp()
    {
        Console.WriteLine("real");
    }
        

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Service.TimerService Timer { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
#pragma warning restore 1591
